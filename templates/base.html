{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>{% block title %}Future Agent{% endblock %}</title>
    <!-- Bootstrap CSS (Optional) -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- material icon from google -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/styles.css' %}" />
    <link rel="stylesheet" href="{% static 'css/sidebar.css' %}" />
    <style>
      .capitalize-text {
        text-transform: capitalize;
      }
    </style>
  </head>
  <body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container">
        <a class="navbar-brand" href=""> 
          <span class="material-icons"> account_circle </span>
          <span> {{user}}</span>
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            {% if user.is_authenticated %} {% csrf_token %}
            <!-- <li class="nav-item">
                            <a class="nav-link" href="{% url 'task-list' %}">My Tasks</a>
                        </li> -->
            <li class="nav-item">
              <a class="nav-link" href="{% url 'logout' %}">Logout</a>
            </li>
            <li class="nav-item"> 
                <button class="nav-btn " id="dashboard-btn">
                    <a class="nav-link" href="{% url 'dashboard'%}">
                        <span class="material-icons">dashboard </span>
                        <span class="tooltip" id="tooltipText">Dashboard</span>
                    </a>
                </button>
                
             
            </li>
            {% if user.is_superuser%} {% csrf_token%}
            <li class="nav-item">
                <button class="nav-btn">
                    <a class="nav-link" href="{% url 'supervisor' %}">
                        <span class="material-icons"> supervisor_account </span>
                        <span class="tooltip" id="tooltipText">Supervisor</span>
                        </a>
                </button>
              
            </li>
            {% endif%} {% else %}
            <li class="nav-item">
              <a class="nav-link" href="{% url 'login' %}">Login</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'register' %}">Register</a>
            </li>
            {% endif %}
          </ul>
        </div>
      </div>
    </nav>
    {% if user.is_authenticated %} {% csrf_token %}
    <button class=" btn toggle-btn" id="toggleBtn" onclick="toggleSidebar()"> 
        <span class="material-icons" id="toggleIcon"> chevron_left </span>
    </button>
   
    <div class="sidebar" id="sidebar">
      <ul>
        <li>
          <a href="{% url 'task-list' %}">
            <span class="material-icons">home</span> Home
          </a>
        </li>
        <li>
          <a href="{% url 'mycalendar'%}">
            <span class="material-icons">calendar_month </span>My Calendar</a
          >
        </li>
        <li>
          <a href="{% url 'task-list' %}"> <span class="material-icons">task</span> Tasks</a>
        </li>
        <li>
          <a href="#"> <span class="material-icons">folder</span> Projects</a>
        </li>
        <li>
          <a href="#"> <span class="material-icons">groups</span> Teams</a>
        </li>
        <li>
          <a href="#"> <span class="material-icons">settings</span> Settings</a>
        </li>
      </ul>
    </div>
    {%endif %}
    <!-- Main Content Block -->
    <div class="container mt-4">
      {% block content %}
      <!-- Content from child templates will be inserted here -->
      {% endblock %}
    </div>

    <!-- Footer -->
    <footer class="bg-light text-center text-lg-start mt-5">
      <div class="text-center p-3">
        Â© 2024 Task Management App | Built with Django
      </div>
    </footer>
    <!-- Javascript functions  -->
    <script src="{% static 'js/sidebar_toggle.js' %}"></script>
    <!-- Bootstrap JS (Optional) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Bootstrap-select JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{% static 'js/window_ultility.js' %}"></script>
  </body>
</html>
